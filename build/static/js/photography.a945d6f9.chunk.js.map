{"version":3,"sources":["components/PhotoGrid/Thumbnail/Thumbnail.module.css","components/Nav/SideNav/index.js","components/Nav/index.js","components/PhotoGrid/Thumbnail/Thumbnail.js","components/PhotoGrid/Thumbnail/index.js","helpers/refinePhotos.js","components/PhotoGrid/constants.js","components/PhotoGrid/PhotoGrid.js","components/PhotoGrid/index.js","pages/Photography/index.js","components/Nav/SideNav/index.module.css","components/Nav/Nav.module.css"],"names":["module","exports","wrapper","squareCrop","squareBorder","SideNav","this","props","sideNavOpen","react_default","a","createElement","className","styles","sideNav","Component","Nav","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleSideNav","state","setState","nav","onClick","Nav_SideNav","open","Thumbnail","_this$props","style","photo","photoUrl","secure_url","split","splice","length","objectSpread","src","join","alt","caption","connect","refinePhotos","PropTypes","arrayOf","shape","public_id","string","isRequired","format","version","number","resource_type","type","created_at","bytes","width","height","url","tags","array","context","object","photos","selectedFilters","selectedTags","selectedFilterKeys","keys","reduce","acc","filter","filterKey","custom","every","push","refinePhotosByFilter","i","find","tag","indexOf","refinePhotosByTag","PhotoGrid","items","filteredPhotos","map","v","PhotoGrid_Thumbnail","key","lib_default","columnWidth","monitorImagesLoaded","gutterWidth","getAllPhotos","getAllSelectedTags","getAllSelectedFilters","Photography","Fragment","components_Nav","components_PhotoGrid"],"mappings":"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","file":"static/js/photography.a945d6f9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Thumbnail_wrapper__1BzSq\",\"squareCrop\":\"Thumbnail_squareCrop__1iAQ2\",\"squareBorder\":\"Thumbnail_squareBorder__3bau4\"};","import React, { Component } from \"react\";\nimport styles from \"./index.module.css\";\n\nclass SideNav extends Component {\n  render() {\n    const { sideNavOpen } = this.props;\n    return sideNavOpen && <nav className={styles.sideNav}>test</nav>;\n  }\n}\n\nexport default SideNav;\n","import React, { Component } from \"react\";\nimport SideNav from \"./SideNav\";\nimport styles from \"./Nav.module.css\";\n\nclass Nav extends Component {\n  constructor() {\n    super();\n    this.state = {\n      sideNavOpen: false\n    };\n  }\n\n  toggleSideNav = () => {\n    const { sideNavOpen } = this.state;\n    this.setState({ sideNavOpen: !sideNavOpen });\n  };\n\n  render() {\n    const { sideNavOpen } = this.state;\n    return (\n      <nav className={styles.nav}>\n        <button onClick={this.toggleSideNav}>M</button>\n        <h1>chris dale</h1>\n        <SideNav open={sideNavOpen} />\n      </nav>\n    );\n  }\n}\n\nexport default Nav;\n","import React, { Component } from \"react\";\nimport styles from \"./Thumbnail.module.css\";\n\nconst transform = \"c_scale,w_550\";\n\nclass Thumbnail extends Component {\n  render() {\n    const { style, photo } = this.props;\n    const photoUrl = photo.secure_url.split(\"/\");\n    photoUrl.splice(photoUrl.length - 2, 0, transform);\n\n    return (\n      <div className={styles.wrapper} style={{ ...style }}>\n        <img src={photoUrl.join(\"/\")} alt={photo.caption} />\n      </div>\n    );\n  }\n}\n\nexport default Thumbnail;\n","import { connect } from \"react-redux\";\nimport Thumbnail from \"./Thumbnail\";\n\nconst mapStateToProps = state => ({\n  ...state\n});\n\nconst mapDispatchToProps = () => ({});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Thumbnail);\n","const refinePhotosByTag = (photos, selectedTags) => {\n  return photos.reduce((acc, photo, i) => {\n    if (\n      !selectedTags.length ||\n      !selectedTags.find(tag => photo.tags.indexOf(tag) === -1)\n    ) {\n      acc.push(photo);\n    }\n    return acc;\n  }, []);\n};\n\nconst refinePhotosByFilter = (photos, selectedFilters) => {\n  const selectedFilterKeys = Object.keys(selectedFilters);\n  if (!selectedFilterKeys.length) {\n    return photos;\n  }\n\n  return photos.reduce((acc, photo) => {\n    // use .find() here for Union of filters, rather than intersection\n    const res = selectedFilterKeys\n      .filter(\n        filterKey =>\n          selectedFilters[filterKey] &&\n          photo.context &&\n          photo.context.custom[filterKey]\n      )\n      .every(\n        filterKey =>\n          selectedFilters[filterKey] === photo.context.custom[filterKey]\n      );\n\n    if (res) {\n      acc.push(photo);\n    }\n    return acc;\n  }, []);\n};\n\nconst refinePhotos = (photos, selectedFilters, selectedTags) =>\n  refinePhotosByFilter(\n    refinePhotosByTag(photos, selectedTags),\n    selectedFilters\n  );\n\nexport default refinePhotos;\n","import PropTypes from \"prop-types\";\n\nexport const PHOTOS_SHAPE = PropTypes.arrayOf(\n  PropTypes.shape({\n    public_id: PropTypes.string.isRequired,\n    format: PropTypes.string.isRequired,\n    version: PropTypes.number.isRequired,\n    resource_type: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    created_at: PropTypes.string.isRequired,\n    bytes: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    url: PropTypes.string.isRequired,\n    secure_url: PropTypes.string.isRequired,\n    tags: PropTypes.array,\n    context: PropTypes.object\n  })\n);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport StackGrid from \"react-stack-grid\";\nimport Thumbnail from \"./Thumbnail\";\nimport { PHOTOS_SHAPE } from \"./constants\";\nimport refinePhotos from \"../../helpers/refinePhotos\";\n\nclass PhotoGrid extends Component {\n  render() {\n    const { photos, selectedFilters, selectedTags } = this.props;\n    const width = 275;\n\n    let items = [];\n\n    if (photos.length) {\n      const filteredPhotos = refinePhotos(\n        photos,\n        selectedFilters,\n        selectedTags\n      );\n\n      if (filteredPhotos.length) {\n        items = filteredPhotos.map((v, i) => {\n          return <Thumbnail key={i} photo={v} width={width} />;\n        });\n      }\n    }\n\n    return (\n      <StackGrid\n        columnWidth={width}\n        monitorImagesLoaded={true}\n        gutterWidth={30}\n      >\n        {items}\n      </StackGrid>\n    );\n  }\n}\n\nPhotoGrid.propTypes = {\n  photos: PHOTOS_SHAPE,\n  selectedTags: PropTypes.arrayOf(PropTypes.string),\n  selectedFilters: PropTypes.object,\n  size: PropTypes.shape({\n    width: PropTypes.number,\n    height: PropTypes.number\n  })\n};\n\nexport default PhotoGrid;\n","import { connect } from \"react-redux\";\nimport PhotoGrid from \"./PhotoGrid\";\nimport { getAllPhotos } from \"../../store/photos\";\nimport { getAllSelectedTags } from \"../../store/tags\";\nimport { getAllSelectedFilters } from \"../../store/filters\";\n\nconst mapStateToProps = state => ({\n  photos: getAllPhotos(state),\n  selectedTags: getAllSelectedTags(state),\n  selectedFilters: getAllSelectedFilters(state)\n});\n\nexport default connect(mapStateToProps)(PhotoGrid);\n","import React, { Component } from \"react\";\nimport Nav from \"../../components/Nav\";\nimport PhotoGrid from \"../../components/PhotoGrid\";\n\nclass Photography extends Component {\n  render() {\n    return (\n      <>\n        <Nav />\n        <PhotoGrid />\n      </>\n    );\n  }\n}\n\nexport default Photography;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideNav\":\"SideNav_sideNav__1xiyK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1E_Bt\"};"],"sourceRoot":""}